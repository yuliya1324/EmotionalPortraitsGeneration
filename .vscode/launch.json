{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Train Text-to-Image LoRA",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--mixed_precision=bf16",
                "train_text_to_image_lora.py",
                "--pretrained_model_name_or_path=CompVis/stable-diffusion-v1-4",
                "--train_data_dir=./data/rafdb_imagefolder",
                "--dataloader_num_workers=4",
                "--resolution=512",
                "--center_crop",
                "--random_flip",
                "--train_batch_size=4",
                "--gradient_accumulation_steps=2",
                "--max_train_steps=5000",
                "--learning_rate=1e-04",
                "--max_grad_norm=0",
                "--lr_scheduler=constant",
                "--lr_warmup_steps=500",
                "--output_dir=./output",
                "--validation_prompt=happiness",
                "--validation_prompt=sadness",
                "--validation_prompt=anger",
                "--num_validation_images=4",
                "--validation_epochs=5",
                "--checkpointing_steps=500",
                "--seed=1337",
                "--report_to=wandb"
            ],
            "console": "integratedTerminal",
            "justMyCode": false,
            "env": {
                "CUDA_VISIBLE_DEVICES": "0"
            }
        },
        {
            "name": "Train Text-to-Image LoRA (Quick Debug)",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--mixed_precision=bf16",
                "train_text_to_image_lora.py",
                "--pretrained_model_name_or_path=CompVis/stable-diffusion-v1-4",
                "--train_data_dir=./data/rafdb_imagefolder",
                "--dataloader_num_workers=2",
                "--resolution=512",
                "--center_crop",
                "--train_batch_size=1",
                "--gradient_accumulation_steps=1",
                "--max_train_steps=10",
                "--learning_rate=1e-04",
                "--output_dir=./output/debug",
                "--validation_prompt=happiness",
                "--num_validation_images=1",
                "--checkpointing_steps=5",
                "--seed=1337"
            ],
            "console": "integratedTerminal",
            "justMyCode": false,
            "env": {
                "CUDA_VISIBLE_DEVICES": "0"
            }
        },
    ]
}